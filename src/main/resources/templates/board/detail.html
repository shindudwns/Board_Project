<!DOCTYPE html>
<html   xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/default_layout}">
<div layout:fragment="content">
  <!-- Section-->

  <section class="container">
    <h1>글 상세보기</h1>
    <br>

<!--    수정하자   -->
    <div th:if="${loginUser.id}==${board.user.id}">

<!--      이부분 부터 시작-->

      <button type="button" th:onclick="|location.href ='@{/board/modify/${board.id}}'|" class="btn btn-warning">글 수정&nbsp;</button>
      <button type="submit" class="btn btn-danger" id="btn-danger">글 삭제</button>
    </div>


    <br><br>
      <div class="form-group">
        <h1> 제목 : [[${board.title}]]</h1>
      </div>
      <br>
    <div class="form-group">
      <h1> 작성자 : [[${board.user.username}]]</h1>
    </div>
    <br>
      <div class="form-group">
        <h1> 내용 : </h1>
        <div  id="content" th:utext="${board.content}"></div>
      </div>
      </br>
    <div class="form-group">
      <h1> 작성 시간 : </h1>
      <div  id="createTime" th:text="${board.createTime}"></div>
    </div>
<!--    jquery를 사용해서 데이터를 주기위한 input 태그-->
    <input id="boardId" type="hidden" th:value="${board.id}">
    <script>
    // 메인화면 페이지 로드 함수
    $(document).ready(function () {
        $('#summernote').summernote({
            height: 400,
            maxHeight: 400
        });
    });

        </script>
    <script>

        $(document).ready(function(){
        let boardId=$("#boardId").val();
            $("#btn-danger").click(function(){
                if(confirm("정말로 글을 삭제하시겠습니까?")){
                    location.href='/board/delete/'+boardId;
                }
            });
        });

    </script>
  </section>
</div>